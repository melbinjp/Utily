(()=>{var f=Object.defineProperty;var d=(n,e)=>()=>(n&&(e=n(n=0)),e);var v=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),y=(n,e)=>{for(var t in e)f(n,t,{get:e[t],enumerable:!0})};function s(n){if(typeof n!="string")return"";let e=document.createElement("div");return e.textContent=n,e.innerHTML}var u=d(()=>{});var p={};y(p,{Carousel:()=>h});var h,m=d(()=>{u();h=class{constructor(e,t){this.featuredTools=e,this.container=t,this.inner=this.container.querySelector(".carousel-inner"),this.indicatorsContainer=this.container.querySelector(".carousel-indicators"),this.currentIndex=0,this.autoplayInterval=null,!(!this.inner||!this.indicatorsContainer||this.featuredTools.length===0)&&(this.render(),this.setupEventListeners(),this.startAutoplay())}render(){this.container.setAttribute("tabindex","0"),this.container.style.outline="none";let e=this.inner.querySelector(".carousel-placeholder");e&&e.remove(),this.container.querySelectorAll(".carousel-control").forEach(t=>t.style.opacity="1"),this.inner.innerHTML="",this.indicatorsContainer.innerHTML="",this.featuredTools.forEach((t,r)=>{this.inner.appendChild(this.createCarouselItem(t)),this.indicatorsContainer.appendChild(this.createIndicator(r))}),this.update()}createCarouselItem(e){let t=document.createElement("div");if(t.className="carousel-item",t.setAttribute("role","tabpanel"),t.setAttribute("aria-label",`Featured tool: ${e.title}`),t.style.backgroundImage="linear-gradient(135deg, rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.9) 100%)",t.style.backgroundSize="cover",t.style.backgroundPosition="center",e.background_image){let o=new Image;o.onload=()=>{t.style.backgroundImage=`linear-gradient(135deg, rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.9) 100%), url(${e.background_image})`},o.onerror=()=>{console.warn(`Carousel image failed to load: ${e.background_image}`)},o.src=e.background_image}let r=e.icon.replace(/fa[sb]? fa-/,"");t.innerHTML=`
            <div class="featured-content" role="button" tabindex="0" aria-label="Open ${s(e.title)}" data-url="${e.url}">
                <div class="featured-header">
                    <div class="featured-icon">
                        <svg class="icon icon-${r}" aria-hidden="true"><use href="#icon-${r}"></use></svg>
                    </div>
                    <h3>${s(e.title)}</h3>
                </div>
                <div class="featured-body">
                    <p>${s(e.featured_description||e.description)}</p>
                    <div class="featured-actions">
                        <span class="primary-btn">
                            <span>Try it now</span>
                            <svg class="icon icon-arrow-right" aria-hidden="true"><use href="#icon-arrow-right"></use></svg>
                        </span>
                        <a href="#main-content" class="secondary-btn">Explore all tools</a>
                    </div>
                </div>
            </div>`;let i=t.querySelector(".featured-content"),a=o=>{if(o.target.closest(".secondary-btn"))return;let c=i.dataset.url;c&&c!=="#"&&window.open(c,"_blank","noopener,noreferrer")};return i.addEventListener("click",a),i.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),a(o))}),t}createIndicator(e){let t=document.createElement("button");return t.className="indicator",t.setAttribute("role","tab"),t.setAttribute("aria-label",`Go to slide ${e+1}`),t.dataset.index=e,t.addEventListener("click",()=>this.goToSlide(e)),t}setupEventListeners(){this.container.querySelector(".carousel-control.prev")?.addEventListener("click",()=>this.previousSlide()),this.container.querySelector(".carousel-control.next")?.addEventListener("click",()=>this.nextSlide()),this.container.addEventListener("mouseenter",()=>this.pauseAutoplay()),this.container.addEventListener("mouseleave",()=>this.resumeAutoplay()),document.addEventListener("visibilitychange",()=>document.hidden?this.pauseAutoplay():this.resumeAutoplay()),this.setupKeyboardNavigation(),this.setupTouchNavigation()}setupKeyboardNavigation(){this.container.addEventListener("keydown",e=>{e.key==="ArrowLeft"?(e.preventDefault(),this.previousSlide()):e.key==="ArrowRight"&&(e.preventDefault(),this.nextSlide())})}setupTouchNavigation(){let e=0,t=!1;this.container.addEventListener("touchstart",r=>{e=r.touches[0].clientX,t=!0},{passive:!0}),this.container.addEventListener("touchend",r=>{if(!t)return;let i=r.changedTouches[0].clientX-e;Math.abs(i)>50&&(i>0?this.previousSlide():this.nextSlide()),t=!1},{passive:!0})}update(){this.inner.style.transform=`translateX(-${this.currentIndex*100}%)`,this.container.querySelectorAll(".carousel-item").forEach((e,t)=>{let r=t===this.currentIndex;e.classList.toggle("active",r),e.setAttribute("aria-hidden",!r),e.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])').forEach(a=>{r?a.removeAttribute("tabindex"):a.setAttribute("tabindex","-1")})}),this.container.querySelectorAll(".indicator").forEach((e,t)=>{e.classList.toggle("active",t===this.currentIndex),e.setAttribute("aria-selected",t===this.currentIndex)})}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.featuredTools.length,this.update(),this.resetAutoplay()}previousSlide(){this.currentIndex=this.currentIndex===0?this.featuredTools.length-1:this.currentIndex-1,this.update(),this.resetAutoplay()}goToSlide(e){this.currentIndex=e,this.update(),this.resetAutoplay()}startAutoplay(){this.featuredTools.length<=1||(this.autoplayInterval=setInterval(()=>this.nextSlide(),6e3))}pauseAutoplay(){clearInterval(this.autoplayInterval),this.autoplayInterval=null}resumeAutoplay(){this.autoplayInterval||this.startAutoplay()}resetAutoplay(){this.pauseAutoplay(),this.resumeAutoplay()}}});var l,g=d(()=>{u();l=class{constructor(){this.tools=[],this.currentFilter="all",this._cacheSelectors(),this.init()}_cacheSelectors(){this.loadingIndicator=document.getElementById("loading-indicator"),this.themeToggle=document.querySelector(".theme-toggle"),this.themeIcon=document.querySelector(".theme-toggle .icon"),this.toolGrid=document.getElementById("tool-grid"),this.filterButtons=document.querySelectorAll(".filter-btn"),this.heroCarousel=document.querySelector(".hero-carousel")}async init(){this.showLoading();try{await this.loadTools(),this.renderToolGrid(),this.hideLoading(),this.setupFilters(),this.setupIntersectionObserver(),await this.lazyLoadCarousel()}catch(e){console.error("Failed to initialize portal:",e),this.showError("Failed to load AI tools. Please refresh the page."),this.hideLoading()}}async loadTools(){try{let e=await fetch("tools.json");if(!e.ok)throw new Error(`HTTP ${e.status}`);let t=await e.json();this.tools=t.filter(r=>r.show)}catch(e){throw console.error("Failed to load tools:",e),this.tools=[],e}}async lazyLoadCarousel(){let e=this.tools.filter(t=>t.featured);if(e.length>0){let{Carousel:t}=await Promise.resolve().then(()=>(m(),p));new t(e,this.heroCarousel)}else this.heroCarousel?.remove()}showLoading(){this.loadingIndicator?.classList.remove("hidden")}hideLoading(){this.loadingIndicator?.remove()}showError(e){let t=document.createElement("div");t.className="error-message",t.innerHTML=`<div class="error-content"><i class="fas fa-exclamation-triangle"></i><p>${e}</p><button id="retry-button">Retry</button></div>`,document.body.appendChild(t),document.getElementById("retry-button").addEventListener("click",()=>{location.reload()})}setupThemeToggle(){let e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e),this.updateThemeIcon(e),this.themeToggle?.addEventListener("click",()=>{let t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),this.updateThemeIcon(t)})}updateThemeIcon(e){if(this.themeIcon){let t=e==="dark"?"sun":"moon",r=this.themeIcon.querySelector("use");r&&r.setAttribute("href",`#icon-${t}`),this.themeIcon.setAttribute("class",`icon icon-${t}`)}}renderToolGrid(){this.toolGrid&&(this.toolGrid.querySelector(".tool-placeholder")?.remove(),this.toolGrid.innerHTML="",this.tools.forEach(e=>{this.toolGrid.appendChild(this.createToolCard(e))}))}createToolCard(e){let t=document.createElement("article");t.className="tool-card",t.dataset.category=e.category||"utility",t.style.minHeight="200px";let r=e.icon.replace(/fa[sb]? fa-/,""),i=document.createElement("template");return i.innerHTML=`
            <div class="tool-card-header">
                <div class="tool-card-icon"><svg class="icon icon-${r}" aria-hidden="true"><use href="#icon-${r}"></use></svg></div>
                <h3><a href="${e.url}" target="_blank" rel="noopener noreferrer">${s(e.title)}</a></h3>
            </div>
            <p>${s(e.description)}</p>
            <div class="tool-card-footer">
                <a href="${e.url}" class="tool-card-link" target="_blank" rel="noopener noreferrer">Try it out <span class="sr-only">for ${s(e.title)}</span><svg class="icon icon-external-link-alt" aria-hidden="true"><use href="#icon-external-link-alt"></use></svg></a>
            </div>`,t.appendChild(i.content.cloneNode(!0)),t.addEventListener("click",a=>{a.target.closest("a")||window.open(e.url,"_blank","noopener,noreferrer")}),t}setupFilters(){this.filterButtons.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.filter;this.setActiveFilter(t),this.filterTools(t)})})}setActiveFilter(e){this.filterButtons.forEach(t=>t.classList.remove("active")),document.querySelector(`[data-filter="${e}"]`)?.classList.add("active"),this.currentFilter=e}filterTools(e){document.querySelectorAll(".tool-card").forEach(t=>{let r=t.dataset.category;t.classList.toggle("hidden",!(e==="all"||r===e))})}setupIntersectionObserver(){let e=new IntersectionObserver((t,r)=>{t.forEach(i=>{i.isIntersecting&&(i.target.style.animation="fade-in-up 0.6s ease forwards",r.unobserve(i.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".tool-card").forEach(t=>e.observe(t))}}});var b=v(()=>{g();document.addEventListener("DOMContentLoaded",()=>{new l})});b();})();
